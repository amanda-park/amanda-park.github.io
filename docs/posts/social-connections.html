<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.550">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Amanda Park">
<meta name="dcterms.date" content="2022-06-22">
<meta name="description" content="Our social networks have a huge impact on the way we live our lives. After doing some research, here are my thoughts on the topic!">

<title>Amanda Park - The Importance of Social Connections</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Amanda Park</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="../index.xml"> <i class="bi bi-rss" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
    <a href="https://www.linkedin.com/in/parkamanda" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-linkedin"></i></a>
    <a href="https://www.github.com/amanda-park" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">The Importance of Social Connections</h1>
                  <div>
        <div class="description">
          Our social networks have a huge impact on the way we live our lives. After doing some research, here are my thoughts on the topic!
        </div>
      </div>
                </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Amanda Park </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">June 22, 2022</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#social-network-theory" id="toc-social-network-theory" class="nav-link active" data-scroll-target="#social-network-theory">Social Network Theory</a></li>
  <li><a href="#keys-to-building-closer-friendships" id="toc-keys-to-building-closer-friendships" class="nav-link" data-scroll-target="#keys-to-building-closer-friendships">Keys to Building Closer Friendships</a>
  <ul class="collapse">
  <li><a href="#consistency" id="toc-consistency" class="nav-link" data-scroll-target="#consistency">Consistency</a></li>
  <li><a href="#vulnerability" id="toc-vulnerability" class="nav-link" data-scroll-target="#vulnerability">Vulnerability</a></li>
  <li><a href="#positivity" id="toc-positivity" class="nav-link" data-scroll-target="#positivity">Positivity</a></li>
  </ul></li>
  <li><a href="#less-controllable-factors-in-maintaining-friendships" id="toc-less-controllable-factors-in-maintaining-friendships" class="nav-link" data-scroll-target="#less-controllable-factors-in-maintaining-friendships">Less Controllable Factors in Maintaining Friendships</a>
  <ul class="collapse">
  <li><a href="#commitment" id="toc-commitment" class="nav-link" data-scroll-target="#commitment">Commitment</a></li>
  <li><a href="#proximity" id="toc-proximity" class="nav-link" data-scroll-target="#proximity">Proximity</a></li>
  <li><a href="#compatibility" id="toc-compatibility" class="nav-link" data-scroll-target="#compatibility">Compatibility</a></li>
  <li><a href="#parasocial-relationships" id="toc-parasocial-relationships" class="nav-link" data-scroll-target="#parasocial-relationships">Parasocial Relationships</a></li>
  </ul></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<p>Conventional wisdom says that you will make most of your friends by your 20s, and it will be a slow decay into friendlessness the older you get. As the years pass from being in grad school and working remotely, I’ve realized that I need to be intentional about how I spend my time socially and work hard to maintain any relationships.</p>
<p>This encouraged me to look more into just how various relationships work and what recent research says about maintaining social connections as you get older.</p>
<section id="social-network-theory" class="level2">
<h2 class="anchored" data-anchor-id="social-network-theory">Social Network Theory</h2>
<p>Every person has a unique social network that they are a part of, and the study of this constitutes social network theory. According to Robin Dunbar, a leading researcher in this space, people tend to have anywhere between 100 - 250 friends (with the average being 150) in their social network. And this doesn’t just mean those that you have met once and then added on social media; this is supposed to represent the amount of people that you are at least casual friends with (so it’s excluding acquaintances).</p>
<p>Now, I’m an introvert, and I find that number of people you’re <em>supposed</em> to be friends with downright intimidating. While I have had that number of people present on various social media accounts in the past, I know a substantial percentage of those adds were either acquaintances, coworkers, or otherwise not connected. I felt like I was missing something important when I saw just what the “ideal” friend breakdown was:</p>
<ul>
<li>2 special friends</li>
<li>5 intimate friends</li>
<li>15 best friends</li>
<li>50 good friends</li>
<li>150 friends</li>
<li>500 acquaintances</li>
</ul>
<p>When I first saw this breakdown I was very surprised to find levels beyond best friend being quantified. I started realizing that being a “good friend” to the people I felt closest to might not have meant as much as I had thought previously.</p>
<p><a href="https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0151588">According to this 2016 study</a>, less than half of all friendships are reciprocal. So you might think someone is a good friend for you, but you barely are a blip on their radar. It’s somewhat more likely that a friendship is reciprocal if there is are shared friends in your respective social circles, and it is less likely if the friend self-describes as already having a lot of friends.</p>
<p>Of course, there’s a limit on how many relationships a person alone can juggle, given that there are only 24 hours in a day. A person can <em>want</em> to be best friends with thousands of people, but they will fail in that objective simply because they cannot find the time to support those relationships in a meaningful manner. And if they try to fit in that many friendships, while their social network will be very wide, it will also be shallower by default.</p>
<p>The amount of relationships a person can have also will be dependent on their life situation. If someone is working full-time and going to school full-time, there isn’t going to be time to maintain nearly as many, nor nearly as close of, friendships compared to someone with a freer schedule. People may also struggle to make friends if they:</p>
<ul>
<li>Are neurodiverse and/or disabled</li>
<li>Lack interpersonal skills</li>
<li>Are shy and/or socially anxious</li>
<li>Have an insecure attachment style</li>
<li>Are living in a different culture than they grew up in</li>
</ul>
<p>It can be rough going if you feel you have the deck stacked against you with regards to friendships. So that got me on the case of researching just what was necessary to build those connections that were rewarding and long-lasting.</p>
</section>
<section id="keys-to-building-closer-friendships" class="level2">
<h2 class="anchored" data-anchor-id="keys-to-building-closer-friendships">Keys to Building Closer Friendships</h2>
<p>According to Shasta Nelson, there are three key tenets to having and maintaining closer friendships:</p>
<ul>
<li>Consistency</li>
<li>Vulnerability</li>
<li>Positivity</li>
</ul>
<section id="consistency" class="level3">
<h3 class="anchored" data-anchor-id="consistency">Consistency</h3>
<p><em>Consistency</em> is relatively straightforward. Maintaining regular contact is necessary to get to know a person better, or else it will be easy to drift apart. But it’s the hardest part to stick to when you’re an adult juggling various responsibilities. When you’re growing up in school or in college, there are more opportunities to “put in the time” to make lifelong friendships, but less so when you’re working a full-time job.</p>
<p>Some things you can do to make sure your friendships are consistent include:</p>
<section id="initiate-hangouts" class="level4">
<h4 class="anchored" data-anchor-id="initiate-hangouts">Initiate hangouts</h4>
<p>It may be challenging for the anxious and introverted to organize social events, but they are the secret to making sure that the aforementioned hours get put in to build closeness. But if that seems too bold, you can rely on…</p>
</section>
<section id="scheduling-a-recurring-hangout" class="level4">
<h4 class="anchored" data-anchor-id="scheduling-a-recurring-hangout">Scheduling a recurring hangout</h4>
<p>This can be tied to a specific interest, whether it be book club, D&amp;D, or something other shared interest.</p>
</section>
<section id="be-patient" class="level4">
<h4 class="anchored" data-anchor-id="be-patient">Be patient</h4>
<p>You can’t have someone become a best friend overnight. <a href="https://journals.sagepub.com/doi/full/10.1177/0265407518761225">This study shows</a> it takes ~50 hours to have an acquaintance become a casual friend, ~90 hours to become a regular friend, and ~200 hours to have someone be a good friend. Much like there isn’t a quick scheme to lose 20 pounds overnight, it’s going to take some time to actually make a friend.</p>
</section>
<section id="dont-let-perfect-be-the-enemy-of-good-enough" class="level4">
<h4 class="anchored" data-anchor-id="dont-let-perfect-be-the-enemy-of-good-enough">Don’t let perfect be the enemy of good enough</h4>
<p>I much prefer having hangouts where the group size is 4 or fewer, as that gives you the opportunity to go deeper and ask more meaningful questions. However, it can be easier to see more friends and catch up in one shot if you are able to meet up in larger groups. There are pros and cons to each approach – be willing to do each, even if it’s not the “ideal” state to make friends in.</p>
</section>
<section id="prioritize-a-few-friends" class="level4">
<h4 class="anchored" data-anchor-id="prioritize-a-few-friends">Prioritize a few friends</h4>
<p>If you’re in the process of trying to build friendships with people, try to focus on making sure they are hung out with consistently first rather than trying to do it with everybody. It will be more sustainable in the long run and you can reap the rewards more consistently.</p>
</section>
</section>
<section id="vulnerability" class="level3">
<h3 class="anchored" data-anchor-id="vulnerability">Vulnerability</h3>
<p><em>Vulnerability</em> has been something I’ve struggled with in the past. Brene Brown’s research emphasizes the importance of being vulnerable in forming lasting connections, but it can be terrifying to be open with your emotions with others. The process of vulnerability needs to be gradual as you hang out with a person more regularly; if you go straight into talking about your deepest traumas with a person there’s a high probability that you will scare them off due to poor boundaries. However, if you never open up to a person despite hanging out regularly you may get stuck in acquaintance/friend territory with no opportunity for further closeness as you are labeled as aloof or uncaring.</p>
<p>Some things you can do to increase vulnerability in friendships include:</p>
<section id="knowing-yourself" class="level4">
<h4 class="anchored" data-anchor-id="knowing-yourself">Knowing Yourself</h4>
<p>Are you able to own what you’re feeling? Can you tell others your real feelings, and do you do it on a consistent basis? How often do you ask for what you need from others?</p>
</section>
<section id="initiating-ideas" class="level4">
<h4 class="anchored" data-anchor-id="initiating-ideas">Initiating Ideas</h4>
<p>It can be exciting to do something different together with friends. Are you comfortable suggesting as much?</p>
</section>
<section id="expanding-conversations" class="level4">
<h4 class="anchored" data-anchor-id="expanding-conversations">Expanding Conversations</h4>
<p>Are you able to ask good follow-up questions when a person is sharing? And are you able to share thoughtfully when asked to reflect on something?</p>
</section>
<section id="talking-about-the-tough-stuff" class="level4">
<h4 class="anchored" data-anchor-id="talking-about-the-tough-stuff">Talking about the tough stuff</h4>
<p>Are you able to go to your friends with shameful feelings, life stresses, and insecurities? Are you a safe space for them to share back those same things?</p>
</section>
<section id="talking-about-the-good-stuff" class="level4">
<h4 class="anchored" data-anchor-id="talking-about-the-good-stuff">Talking about the good stuff</h4>
<p>Can you give compliments to others and lift them up? Can you accept when others compliment you without dismissing it?</p>
</section>
</section>
<section id="positivity" class="level3">
<h3 class="anchored" data-anchor-id="positivity">Positivity</h3>
<p><em>Positivity</em> can be a thing that makes or breaks friendships. The idea is that there needs to be at least 5 positive interactions for every 1 negative interaction. If a friendship regularly devolves into gossip or doomscrolling about the state of the world, it can be difficult to foster feelings of positivity and get closer to the person. This is what can make depression so insidious for friendship quality - your thoughts generally skew negative when you’re depressed, and that can subtly indicate to others that they should back away, which can make the depressed person lonelier and subsequently even more depressed.</p>
<p>Some things you can do to increase positivity in friendships include:</p>
<section id="give-generously-and-smartly" class="level4">
<h4 class="anchored" data-anchor-id="give-generously-and-smartly">Give Generously and Smartly</h4>
<p>Being a giving person is generally a positive character trait; however, in the wrong situation, this trait can be abused by a toxic friend. Having some awareness as to who would benefit from your generosity, how they would best benefit from your giving and when to do it will get you a lot farther than blindly offering up to do nice things to people with no rhyme or reason.</p>
</section>
<section id="understand-how-your-friends-give-and-receive" class="level4">
<h4 class="anchored" data-anchor-id="understand-how-your-friends-give-and-receive">Understand How Your Friends Give and Receive</h4>
<p>According to Gary Chapman there are 5 main love languages people use to express their affection to another. They are:</p>
<ul>
<li>Physical touch</li>
<li>Acts of service</li>
<li>Quality time</li>
<li>Gifts</li>
<li>Words of affirmation</li>
</ul>
<p>Every person will feel loved based on some combination of the above. Learning your friends’ love languages will help you understand how they show they care, and help you help them be happier overall. (You won’t waste time getting an expensive gift for someone who prefers quality time, for example.)</p>
</section>
<section id="admit-your-needs" class="level4">
<h4 class="anchored" data-anchor-id="admit-your-needs">Admit Your Needs</h4>
<p>To let a friendship truly shine, you need to be able to let your friends help you when you need something. (This is one I personally struggle with, as I prefer to try and solve things on my own to start.) If you are unsure of your needs, some common needs people have include:</p>
<ul>
<li><strong>Connection</strong> – includes acceptance, safety, trust, respect, intimacy, belonging, and more</li>
<li><strong>Physical well-being</strong> – includes food, water, air, shelter, sleep, touch, and more</li>
<li><strong>Autonomy</strong> – includes choice, freedom, space, and more</li>
</ul>
<p>It is okay to allow friends to help you meet your needs, especially as the friendship grows and you become closer.</p>
</section>
</section>
</section>
<section id="less-controllable-factors-in-maintaining-friendships" class="level2">
<h2 class="anchored" data-anchor-id="less-controllable-factors-in-maintaining-friendships">Less Controllable Factors in Maintaining Friendships</h2>
<p>There were some other things I found as being helpful in making friends in my reading, such as:</p>
<ul>
<li>Commitment</li>
<li>Proximity</li>
<li>Compatibility</li>
</ul>
<section id="commitment" class="level3">
<h3 class="anchored" data-anchor-id="commitment">Commitment</h3>
<p><em>Commitment</em> basically represents the amount of effort each party is willing to put into the friendship. You can be positive, vulnerable, and consistent with a potential friend all that you want, but ultimately friendship is a two-way street. If a friend doesn’t reciprocate that effort, then there’s nothing you can do to change that – the level of a friendship will default to whichever party puts the least amount of effort into.</p>
</section>
<section id="proximity" class="level3">
<h3 class="anchored" data-anchor-id="proximity">Proximity</h3>
<p><em>Proximity</em> represents how close physically you are to a potential friend. When I had moved out to Michigan for my job back in 2019, it was much harder to maintain connections with friends from grad school when I was 12 hours away compared to being in the same town. With the advent of the internet it’s still possible to not skip a beat with texts, calls, and video chats, but it’s not quite the same as meeting someone in-person for an activity, and it can be very challenging to build connections when your avenue for doing so is entirely virtual. This fact alone (<a href="https://waitbutwhy.com/2015/12/the-tail-end.html">alongside Tim Urban’s WaitButWhy article The Tail End</a>) motivated me to move closer to home in 2021 (with my job’s blessing to let me work fully remote).</p>
</section>
<section id="compatibility" class="level3">
<h3 class="anchored" data-anchor-id="compatibility">Compatibility</h3>
<p><em>Compatibility</em> is the secret sauce that determines how well you get along with somebody else. This can include values, communication style, and more. There’s no one-size-fits-all approach that determines this (despite what astrology tests might have you believe), so you’ll know it when you see it.</p>
</section>
<section id="parasocial-relationships" class="level3">
<h3 class="anchored" data-anchor-id="parasocial-relationships">Parasocial Relationships</h3>
<p>I want to make a note about this, as I feel like the internet makes lonely people especially susceptible to this one. There are a lot of people on the internet nowadays that make their living as some sort of influencer. Perhaps they make YouTube videos, maybe they stream video games on Twitch, or they might be on the TikTok train. The venue doesn’t really matter.</p>
<p>What matters is that a lot of them try to give you a sense that you are “behind the scenes” of their lives in a way that celebrities pre-internet did not do. On these sites, you can communicate directly with the person through comments and messages, and they might respond in a way that seems friendly. This can be effectively bought on a lot of platforms by donating money to the content creator, as someone who donates will be much more likely to read off a message as opposed to a random, free message out into the ether.</p>
<p>As you can guess, this isn’t a meaningful connection at all. It may feel special to the person who’s watching the content creator/celebrity, but beyond a general “thank you” message to the fans, the fan doesn’t stand out in any meaningful way from the crowd. This leaves the door wide open to make a quick buck on a person’s loneliness, which explains the profitability for content creators on general social media sites. However, that also justifies the success of OnlyFans, a platform which offers an <em>even more</em> intimate view into a person’s life for the right price.</p>
<p>It is very unlikely that you will ever be an acquaintance of, let alone befriend, a highly-popular content creator. The younger generation in particular needs to be warned to not mistake the connection they feel as being reciprocated in any way. There is the appearance of the right variables for connection in content being produced nowadays, which can put unsuspecting people at risk of becoming too attached and further trying to meet their need for connection in unhealthy ways.</p>
<p>Basically, know what you’re getting into with content creators. They’re about as close to you as movie stars. Don’t be fooled otherwise.</p>
</section>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>The biggest thing I’ve realized after being isolated in Michigan due to working remotely and COVID-19 is that friendships do not just stick around indefinitely without effort. You can end up alone very easily, and I wouldn’t wish that on my worst enemy. I hope by knowing the above you can save yourself some time and effort by investing in the friendships that are most likely to be successful for you going forward.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>